{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","src/js/index.js","src/js/interface.js","src/js/formatData.js","src/js/dom.js","src/js/request.js"],"names":["renderCode","data","type","output","_interface","codeblock","_formatData","formatJSON","JSON","parse","response","formatXML","node","_dom","qs","innerHTML","renderHeader","hljs","highlightBlock","status","join","renderPath","url","getData","_request2","init","addEventListener","this","options","selectedIndex","value","_request","require","document","replace","indent","stringify","selector","querySelector","qsa","querySelectorAll","request","callback","req","XMLHttpRequest","method","open","setRequestHeader","onreadystatechange","readyState","Error","send"],"mappings":"AAAA;YIKO,SAASc,IAAGuB,GACjB,MAAOJ,UAASK,cAAcD,GAQzB,QAASE,KAAIF,GAClB,MAAOJ,UAASO,iBAAiBH,kEAVnBvB,GAAAA,WASAyB,IAAAA;;YDRT,SAAShC,YAAWN,EAAMkC,GAC/B,MAAO3B,MAAK4B,UAAUnC,EAAM,KAAMkC,GAQ7B,QAASxB,WAAUV,GACxB,MAAOA,GAAKiC,QAAQ,KAAK,SAASA,QAAQ,KAAK,QAAQA,QAAQ,KAAK,uEAVtD3B,WAAAA,mBASAI,UAAAA;;uFFLhB,QAASX,YAAWC,EAAMC,GACxB,GAAIC,GAAA,MACS,UAATD,IAAiBC,GAAS,EAAAC,WAAAC,YAAU,EAAAC,YAAAC,YAAWC,KAAKC,MAAMR,EAAKS,UAAW,KACjE,QAATR,IAAgBC,GAAS,EAAAC,WAAAC,YAAU,EAAAC,YAAAK,WAAUV,EAAKS,WACtD,IAAIE,IAAO,EAAAC,KAAAC,IAAG,YACdF,GAAKG,UAAYC,aAAaf,EAAMC,GAAQC,EAC5Cc,KAAKC,eAAeN,GAStB,QAASI,cAAaf,EAAMC,GAC1B,QACG,OAAQD,EAAKkB,OAAQ,MAAMC,KAAK,MAChC,gBAAiB,eAAgBlB,GAAMkB,KAAK,MAC7CA,KAAK,SAOT,QAASC,YAAWC,IAClB,EAAAT,KAAAC,IAAG,QAAQC,UAAY,OAASO,EAOlC,QAASC,SAAQrB,GAEfA,EAAOA,GAAQ,MACf,IAAIoB,GAAM,QAAUpB,GAEpB,EAAAsB,UAAAA,YAAQF,EAAK,SAAUrB,GACrBoB,WAAWC,GACXtB,WAAWC,EAAMC,KASrB,QAASuB,SAEP,EAAAZ,KAAAC,IAAG,aAAaY,iBAAiB,SAAU,WACzC,GAAIxB,GAAOyB,KAAKC,QAAQD,KAAKE,eAAeC,KAC5CP,SAAQrB,KAGVqB,UAnEF,GAAAQ,UAAAC,QAAA,wDACA5B,WAAA4B,QAAA,eACAnB,KAAAmB,QAAA,SACA1B,YAAA0B,QAAA,eAoEAC,UAASP,iBAAiB,mBAAoBD;;YClEvC,SAASpB,WAAUJ,GACxB,MAAO,kCAAkCiC,QAAQ,UAAWjC,kEAD9CI,UAAAA;;YGAhB,SAASoC,SAAQnB,EAAKoB,GAEpB,GAAIC,GAAM,GAAIC,eAEd,IAAKD,EAAL,CAEA,GAAIE,GAAS,KACbF,GAAIG,KAAKD,EAAQvB,GAAK,GACtBqB,EAAII,iBAAiB,aAAa,eAClCJ,EAAIK,mBAAqB,WACA,IAAnBL,EAAIM,YAEJP,EADiB,MAAfC,EAAIxB,OACGwB,EAEA,GAAIO,OAAM,sBAKzBP,EAAIQ,kFAISV","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import request from './request';\r\nimport { codeblock } from './interface';\r\nimport { qs, qsa } from './dom';\r\nimport { formatJSON, formatXML } from './formatData';\r\n\r\n/**\r\n * Renders the code block\r\n * @param  {String} data Data from the XMLHTTPRequest\r\n * @param  {String} type Data type (JSON/XML)\r\n */\r\nfunction renderCode(data, type) {\r\n  let output;\r\n  if (type === 'json') output = codeblock(formatJSON(JSON.parse(data.response), 2));\r\n  if (type === 'xml') output = codeblock(formatXML(data.response));\r\n  let node = qs('.response');\r\n  node.innerHTML = renderHeader(data, type) + output;\r\n  hljs.highlightBlock(node);\r\n}\r\n\r\n/**\r\n * Render the XMHTTPHeader information (partial)\r\n * @param  {Object} data XMHTTPRequent object\r\n * @param  {String} type Data type\r\n * @return {String}      HTML\r\n */\r\nfunction renderHeader(data, type) {\r\n  return [\r\n    ['HTTP', data.status, 'OK'].join(' '),\r\n    ['Content-Type:', 'application/', type].join(' ')\r\n  ].join('<br/>');\r\n}\r\n\r\n/**\r\n * Render the path block\r\n * @param  {String} url URL\r\n */\r\nfunction renderPath(url) {\r\n  qs('.url').innerHTML = 'GET ' + url;\r\n}\r\n\r\n/**\r\n * Gets data using the Promise constructor and the request module\r\n * @param  {String} type Data type (JSON/XML)\r\n */\r\nfunction getData(type) {\r\n\r\n  type = type || 'json';\r\n  let url = 'data/' + type;\r\n\r\n  request(url, function (data) {\r\n    renderPath(url);\r\n    renderCode(data, type);\r\n  });\r\n}\r\n\r\n/**\r\n * Runs when the DOM content has loaded.\r\n * Adds an event listener to the dropdown and\r\n * runs getData() for the first time\r\n */\r\nfunction init() {\r\n\r\n  qs('.selector').addEventListener('change', function () {\r\n    let type = this.options[this.selectedIndex].value;\r\n    getData(type);\r\n  });\r\n\r\n  getData();\r\n\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', init);","/**\r\n * Renders a code block\r\n * @param  {String} data Stringyfied data\r\n * @return {[type]}      Code block HTML\r\n */\r\nexport function codeblock(data) {\r\n  return '<pre><code>#{data}</code></pre>'.replace('#{data}', data);\r\n};","/**\r\n * Format JSON with indentation\r\n * @param  {Object} data   JS object\r\n * @param  {Number} indent Spaces to indent the JSON by\r\n * @return {String}        Stringifed data\r\n */\r\nexport function formatJSON(data, indent) {\r\n  return JSON.stringify(data, null, indent);\r\n};\r\n\r\n/**\r\n * Formatted XML for display\r\n * @param  {String} data XML string\r\n * @return {String}      Encoded XML for HTML display\r\n */\r\nexport function formatXML(data) {\r\n  return data.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');\r\n};","/**\r\n * Returns a node using document.querySelector\r\n * @param  {String} selector CSS selector\r\n * @return {Node}            Node collection\r\n */\r\nexport function qs(selector) {\r\n  return document.querySelector(selector);\r\n};\r\n\r\n/**\r\n * Returns a node using document.querySelectorAll\r\n * @param  {String} selector CSS selector\r\n * @return {Node}            Node collection\r\n */\r\nexport function qsa(selector) {\r\n  return document.querySelectorAll(selector);\r\n};","/**\r\n * Updated from Quirksmode XMLHTTPRequest example\r\n * @param  {String} url      URL\r\n * @param  {Object} deferred Deferred object\r\n */\r\nfunction request(url, callback) {\r\n\r\n  let req = new XMLHttpRequest();\r\n\r\n  if (!req) return;\r\n\r\n  let method = 'GET';\r\n  req.open(method, url, true);\r\n  req.setRequestHeader('User-Agent','XMLHTTP/1.0');\r\n  req.onreadystatechange = function () {\r\n    if (req.readyState === 4) {\r\n      if (req.status === 200) {\r\n        callback(req);\r\n      } else {\r\n        callback(new Error('Rejected request'));\r\n      }\r\n    }\r\n  }\r\n\r\n  req.send();\r\n\r\n}\r\n\r\nexport default request;"]}