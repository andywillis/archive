!function(c){function e(e){for(var t,n,a=e[0],r=e[1],o=e[2],i=0,l=[];i<a.length;i++)n=a[i],s[n]&&l.push(s[n][0]),s[n]=0;for(t in r)Object.prototype.hasOwnProperty.call(r,t)&&(c[t]=r[t]);for(p&&p(e);l.length;)l.shift()();return d.push.apply(d,o||[]),u()}function u(){for(var e,t=0;t<d.length;t++){for(var n=d[t],a=!0,r=1;r<n.length;r++){var o=n[r];0!==s[o]&&(a=!1)}a&&(d.splice(t--,1),e=i(i.s=n[0]))}return e}var n={},s={0:0},d=[];function i(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return c[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=c,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var t=window.webpackJsonp=window.webpackJsonp||[],a=t.push.bind(t);t.push=e,t=t.slice();for(var r=0;r<t.length;r++)e(t[r]);var p=a;d.push([132,1]),u()}({132:function(e,t,n){n(133),e.exports=n(314)},15:function(e,t,n){e.exports={form:"form___1PexC",blue:"blue___KEAR2",green:"green___3TbJ7",red:"red___1hcJK",title:"title___1FCmA",textarea:"textarea___XzQgY",newIdea:"newIdea___3gtL-",bottomBar:"bottomBar___3L2_k",count:"count___11b6Y",add:"add___20DT1",update:"update___27aDQ",timestamp:"timestamp___I5wrm",updated:"updated___2s8OE",delete:"delete___1IRqa",colorStrip:"colorStrip___1xRcW"}},313:function(e,t,n){},314:function(e,t,n){"use strict";n.r(t);var o=n(1),u=n.n(o),a=n(126),r=n.n(a),i=n(316),l=n(33),c=n(129),s=n.n(c),d=n(95),p=n.n(d),f=n(130),m=n.n(f),b=n(15),y=n.n(b);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function g(e,t,n){return t&&_(e.prototype,t),n&&_(e,n),e}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var w=function(e){function c(e){var t,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),n=this,t=!(a=v(c).call(this,e))||"object"!==h(a)&&"function"!=typeof a?O(n):a;var r=e.idea;return t.state=r&&r.id?c.decodeIdea(r):{title:"",text:"",newIdea:!0},t.handleAdd=t.handleAdd.bind(O(O(t))),t.handleUpdate=t.handleUpdate.bind(O(O(t))),t.handleTitleChange=t.handleTitleChange.bind(O(O(t))),t.handleTextChange=t.handleTextChange.bind(O(O(t))),t.focusForm=t.focusForm.bind(O(O(t))),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(c,o["Component"]),g(c,null,[{key:"decodeInput",value:function(e){return e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&quot;/g,'"')}},{key:"encodeInput",value:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}},{key:"getTimestamp",value:function(){return(new Date).toUTCString()}},{key:"getFormattedTimestamp",value:function(e){return new Date(e).toLocaleString("en-GB",{timeZone:"UTC"})}},{key:"decodeIdea",value:function(e){var t=e.title,n=e.text;return function(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},t=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),t.forEach(function(e){var t,n,a;t=r,a=o[n=e],n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a})}return r}({},e,{title:c.decodeInput(t),text:c.decodeInput(n)})}}]),g(c,[{key:"componentDidMount",value:function(){this.focusForm()}},{key:"getEncodedIdea",value:function(){var e=this.state,t=e.title,n=e.text;return{title:c.encodeInput(t),text:c.encodeInput(n)}}},{key:"handleAdd",value:function(){var e=this.getEncodedIdea(),t=e.title,n=e.text,a=this.props.saveNote,r=c.getTimestamp();a({id:m()(),title:t,text:n,timestamp:r}),this.setState({title:"",text:"",newIdea:!0},this.focusForm)}},{key:"handleUpdate",value:function(e){var t=this.getEncodedIdea(),n=t.title,a=t.text,r=this.props.updateNote,o=c.getTimestamp();r({id:e,title:n,text:a,timestamp:o}),this.setState({title:n,text:a,timestamp:o,updated:!0},this.updateUIAfterUpdate)}},{key:"updateUIAfterUpdate",value:function(){var e=this;setTimeout(function(){e.setState({updated:!1})},3e3)}},{key:"handleTitleChange",value:function(e){var t=e.target.value;this.setState({title:t})}},{key:"handleTextChange",value:function(e){var t=e.target.value;t.length<=140&&this.setState({text:t})}},{key:"handleDelete",value:function(e){(0,this.props.deleteNote)(e)}},{key:"isValid",value:function(){var e=this.state,t=e.title,n=e.text;return t.length&&n.length}},{key:"focusForm",value:function(){this.titleInput&&this.titleInput.focus()}},{key:"render",value:function(){var t=this,e=this.state,n=e.id,a=e.timestamp,r=e.title,o=e.text,i=e.newIdea,l=e.updated;return u.a.createElement("div",{className:p()(y.a.form,i&&y.a.newIdea)},u.a.createElement("form",null,i&&u.a.createElement("input",{className:y.a.title,type:"text",onChange:this.handleTitleChange,ref:function(e){t.titleInput=e},placeholder:"Add title",value:r}),!i&&u.a.createElement("input",{className:y.a.title,type:"text",onChange:this.handleTitleChange,placeholder:"Add title",value:r}),u.a.createElement(s.a,{className:y.a.textarea,name:"text",rows:2,onChange:this.handleTextChange,placeholder:"Add description",value:o}),!i&&u.a.createElement("div",{className:p()(y.a.timestamp,l&&y.a.updated)},c.getFormattedTimestamp(a)),u.a.createElement("div",{className:y.a.bottomBar},u.a.createElement("div",{className:y.a.count},140-o.length),i&&u.a.createElement("button",{className:y.a.add,type:"button",disabled:!this.isValid()&&"disabled",onClick:this.handleAdd},"Add idea"),!i&&u.a.createElement(u.a.Fragment,null,u.a.createElement("button",{className:y.a.update,type:"button",disabled:!this.isValid()&&"disabled",onClick:function(){return t.handleUpdate(n)}},"Update"),u.a.createElement("button",{className:y.a.delete,type:"button",onClick:function(){return t.handleDelete(n)}},"Delete")))))}}]),c}(),x=Object(l.b)(null,function(l){return{saveNote:function(e){return l((n=(t=e).id,a=t.title,r=t.text,{type:"SAVE_IDEA",id:n,timestamp:t.timestamp,title:a,text:r}));var t,n,a,r},deleteNote:function(e){return l({type:"DELETE_IDEA",id:e})},updateNote:function(e,t,n){return l((r=(a=e).id,o=a.title,i=a.text,{type:"UPDATE_IDEA",id:r,timestamp:a.timestamp,title:o,text:i}));var a,r,o,i}}})(w),S=n(65),j=n.n(S);var k=function(e){var t=e.ideas;return t.length?u.a.createElement("div",{className:j.a.ideas},t.map(function(e){var t=e.id;return u.a.createElement("div",{key:t,"data-id":t,role:"presentation",className:j.a.idea},u.a.createElement(x,{idea:e}))})):u.a.createElement("div",{className:j.a.empty},"List empty. Please add an idea.")},C=n(66),I=n.n(C);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var U=function(e){function r(e){var t,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),n=this,(t=!(a=P(r).call(this,e))||"object"!==N(a)&&"function"!=typeof a?D(n):a).state={selected:e.order},t.handleClick=t.handleClick.bind(D(D(t))),t}var t,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(r,o["Component"]),t=r,(n=[{key:"handleClick",value:function(e){(0,this.props.changeOrder)(e),this.setState({selected:e})}},{key:"render",value:function(){var e=this,t=this.state.selected;return u.a.createElement("div",{className:I.a.ordering},u.a.createElement("ul",null,u.a.createElement("li",null,u.a.createElement("button",{className:"title"===t?I.a.selected:void 0,type:"button",onKeyUp:function(){return e.handleClick("title")},onClick:function(){return e.handleClick("title")}},"A-Z")),u.a.createElement("li",null,u.a.createElement("button",{className:"timestamp"===t?I.a.selected:void 0,type:"button",onKeyUp:function(){return e.handleClick("timestamp")},onClick:function(){return e.handleClick("timestamp")}},u.a.createElement("span",{role:"img","aria-label":"Order by timestamp"},"ðŸ•")))))}}])&&T(t.prototype,n),a&&T(t,a),r}();var F=Object(l.b)(null,function(t){return{changeOrder:function(e){return t({type:"CHANGE_ORDER",order:e})}}})(U),R=n(43),L=n.n(R);var M=function(e){var t=e.order,n=e.ideas;return u.a.createElement("div",{className:L.a.app},u.a.createElement("main",{className:L.a.main},u.a.createElement("section",{className:L.a.section},u.a.createElement("header",{className:L.a.sectionHeader},"New idea"),u.a.createElement(x,null)),u.a.createElement("section",{className:L.a.section},u.a.createElement("header",{className:L.a.sectionHeader},"Idea list",u.a.createElement(F,{order:t})),u.a.createElement(k,{ideas:n}))))};function J(e,t){return e.title.toLowerCase()>t.title.toLowerCase()}function V(e,t){var n=new Date(e.timestamp),a=new Date(t.timestamp);return a<n?1:n<a?-1:0}var B=Object(l.b)(function(e){var t=e.ideas,n=t.order,a=t.ideas;switch(n){case"title":a.sort(J);break;case"timestamp":a.sort(V)}return{order:n,ideas:a}})(M),G=n(131),H=n.n(G),q=n(42);function K(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function X(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(e){Q(t,e,n[e])})}return t}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z={order:"timestamp",ideas:[{id:"9d468631-a0f0-41dd-bc60-b9b773b83ec1",title:"Improve update notification",text:"Perhaps add &quot;saved&quot; to the timestamp box, then apply the updated timestamp.",timestamp:"Fri, 23 Nov 2018 16:19:27 GMT"},{id:"e4848a55-c38d-444b-8c23-b9073987d6c0",title:"Add idea ordering",text:"By timestamp, and alphabetically by title.",timestamp:"Fri, 23 Nov 2018 17:09:12 GMT"}]},Y=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Z,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case"SAVE_IDEA":var n=t.id,a=t.title,r=t.text,o=t.timestamp;return X({},e,{ideas:K(e.ideas).concat([{id:n,title:a,text:r,timestamp:o}])});case"DELETE_IDEA":var i=t.id;return X({},e,{ideas:K(e.ideas.filter(function(e){return e.id!==i}))});case"UPDATE_IDEA":var l=t.id,c=t.title,u=t.text,s=t.timestamp,d=e.ideas.find(function(e){return e.id===l}),p=e.ideas.filter(function(e){return e.id!==l}),f=X({},d,{title:c,text:u,timestamp:s});return X({},e,{ideas:K(p).concat([f])});case"CHANGE_ORDER":return X({},e,{order:t.order});default:return e}},z=Object(q.b)({ideas:Y}),W=function(){try{var e=localStorage.getItem("ideas");if(null===e)return;return JSON.parse(e)}catch(e){console.error(e)}}(),$=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||q.c,ee=Object(q.d)(z,W,$());ee.subscribe(H()(function(){return function(e){try{var t=JSON.stringify(e);localStorage.setItem("ideas",t)}catch(e){console.error(e)}}(ee.getState())}));var te=ee;n(313);r.a.render(u.a.createElement(i.a,null,u.a.createElement(l.a,{store:te},u.a.createElement(B,null))),document.getElementById("root"))},43:function(e,t,n){e.exports={app:"app___XhFh2",section:"section___1pIdJ",sectionHeader:"sectionHeader___QbVUk"}},65:function(e,t,n){e.exports={empty:"empty___CuCZa",ideas:"ideas___2P4P0"}},66:function(e,t,n){e.exports={ordering:"ordering___1GC0O",selected:"selected___yScIn"}}});